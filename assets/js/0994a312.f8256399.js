(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[575],{5481:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return m},default:function(){return u}});var n=a(2122),s=a(9756),i=(a(7294),a(3905)),r=["components"],l={sidebar_position:4},o="APIs",p={unversionedId:"reference/apis",id:"reference/apis",isDocsHomePage:!1,title:"APIs",description:"Overview",source:"@site/docs/reference/apis.md",sourceDirName:"reference",slug:"/reference/apis",permalink:"/docs/reference/apis",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Auth",permalink:"/docs/reference/auth"}},m=[{value:"Overview",id:"overview",children:[]},{value:"REST API",id:"rest-api",children:[{value:"Endpoints",id:"endpoints",children:[]},{value:"<code>/tv/reference/symbols</code>",id:"tvreferencesymbols",children:[]},{value:"<code>/tv/reference/symbols/&lt;streamName&gt;</code>",id:"tvreferencesymbolsstreamname",children:[]},{value:"<code>/data</code>",id:"data",children:[]}]},{value:"Realtime API",id:"realtime-api",children:[{value:"Examples",id:"examples",children:[]}]},{value:"Notes",id:"notes",children:[]}],d={toc:m};function u(e){var t=e.components,a=(0,s.Z)(e,r);return(0,i.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"apis"},"APIs"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Nakji offers two APIs, a ",(0,i.kt)("a",{parentName:"p",href:"#realtime-api"},"REST (historical) API")," as well as a ",(0,i.kt)("a",{parentName:"p",href:"#realtime-api"},"Realtime API"),"."),(0,i.kt)("p",null,"This is a work in progress. If you have any questions and concerns, please feel free to reach out to us via TG, Discord, or email."),(0,i.kt)("h2",{id:"rest-api"},"REST API"),(0,i.kt)("p",null,"The REST API is for getting metadata and historical data. All REST API endpoints require ",(0,i.kt)("a",{parentName:"p",href:"auth"},"authentication")," during the private beta."),(0,i.kt)("p",null,"The endpoints starting with ",(0,i.kt)("inlineCode",{parentName:"p"},"/tv")," are designed to be compatible with the Tradingview charting library."),(0,i.kt)("p",null,"Base URL: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.nakji.network/v1")),(0,i.kt)("h3",{id:"endpoints"},"Endpoints"),(0,i.kt)("h3",{id:"tvreferencesymbols"},(0,i.kt)("inlineCode",{parentName:"h3"},"/tv/reference/symbols")),(0,i.kt)("p",null,"List all available streams."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request vars:")," none"),(0,i.kt)("h4",{id:"example"},"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'curl -i -X GET -H \'Origin: https://yourdomain\' -H \'Authorization:Bearer <apikey>\' "https://api.nakji.network/v1/tv/reference/symbols"\n\n# Response format is `ldjson`, newline delimited json\n{"symbol":"eth","full_name":"eth:eth","description":"eth.eth.averagedifficulty.1m","exchange":"eth","ticker":"eth.eth.averagedifficulty.1m","type":"indicator"}\n{"symbol":"eth","full_name":"eth:eth","description":"eth.eth.averagegasused.1m","exchange":"eth","ticker":"eth.eth.averagegasused.1m","type":"indicator"}\n{"symbol":"eth","full_name":"eth:eth","description":"eth.eth.averagegasprice.1m","exchange":"eth","ticker":"eth.eth.averagegasprice.1m","type":"indicator"}\n{"symbol":"SLC-USDT","full_name":"uniswapv2:SLC-USDT","description":"uniswapv2.SLC-USDT.liquiditypool-1m0s (0x00004EE988665Cdda9A1080d5792cecD16Dc1220)","exchange":"uniswapv2","ticker":"uniswapv2.0x00004EE988665Cdda9A1080d5792cecD16Dc1220.liquiditypool-1m0s","type":"aggregate"}\n{"symbol":"SLC-USDT","full_name":"uniswapv2:SLC-USDT","description":"uniswapv2.SLC-USDT.trade-1m0s (0x00004EE988665Cdda9A1080d5792cecD16Dc1220)","exchange":"uniswapv2","ticker":"uniswapv2.0x00004EE988665Cdda9A1080d5792cecD16Dc1220.trade-1m0s","type":"aggregate"}\n{"symbol":"OWL-WETH","full_name":"uniswapv2:OWL-WETH","description":"uniswapv2.OWL-WETH.liquiditypool-1m0s (0x0005eE2Ef3F313aE168451ef8174b4fCC508819F)","exchange":"uniswapv2","ticker":"uniswapv2.0x0005eE2Ef3F313aE168451ef8174b4fCC508819F.liquiditypool-1m0s","type":"aggregate"}\n{"symbol":"OWL-WETH","full_name":"uniswapv2:OWL-WETH","description":"uniswapv2.OWL-WETH.trade-1m0s (0x0005eE2Ef3F313aE168451ef8174b4fCC508819F)","exchange":"uniswapv2","ticker":"uniswapv2.0x0005eE2Ef3F313aE168451ef8174b4fCC508819F.trade-1m0s","type":"aggregate"}\n')),(0,i.kt)("h3",{id:"tvreferencesymbolsstreamname"},(0,i.kt)("inlineCode",{parentName:"h3"},"/tv/reference/symbols/<streamName>")),(0,i.kt)("p",null,"Get stream info."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request vars"),": none"),(0,i.kt)("h4",{id:"example-1"},"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'curl -i -X GET -H \'Origin: https://yourdomain\' -H \'Authorization:Bearer <apikey>\' https://api.nakji.network/v1/tv/reference/symbols/uniswapv2.0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f.trade-1m0s\n\n{\n "s":"ok",\n "name":"AAVE-WETH",\n "timezone":"Etc/UTC",\n "minmov":1,\n "pricescale":100000000,\n "has_intraday":true,\n "has_daily":true,\n "has_weekly_and_monthly":true,\n "has_no_volume":false,\n "ticker":"uniswapv2.0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f.trade-1m0s",\n "description":"AAVE-WETH (0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f)",\n "type":"aggregate",\n "data_status":"streaming",\n "supported_resolutions":["1S","1","3","5","15","30","45","60","120","180","240","1D","1W","1M","12M"],\n "intraday_multipliers":["1","5","15","30","60","D","W"],\n "session":"24x7",\n "exchange":"uniswapv2",\n "has_seconds":false,\n "seconds_multipliers":null,\n "has_empty_bars":true\n }\n')),(0,i.kt)("h3",{id:"data"},(0,i.kt)("inlineCode",{parentName:"h3"},"/data")),(0,i.kt)("p",null,"Get historical data."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request vars:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"symbol=huobi.AAVE-USD.openinterest-1m0s"),(0,i.kt)("li",{parentName:"ul"},"from=1612123908000"),(0,i.kt)("li",{parentName:"ul"},"to=1613448768000"),(0,i.kt)("li",{parentName:"ul"},"resolution=15")),(0,i.kt)("h4",{id:"example-2"},"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"curl -i -X GET -H 'Origin: https://yourdomain' -H 'Authorization:Bearer <apikey>' \"https://api-staging.nakji.network/v1/data?*symbol*=huobi.AAVE-USD.openinterest-1m0s&from=1612123908000&to=1613448768000&resolution=15\"\n")),(0,i.kt)("h2",{id:"realtime-api"},"Realtime API"),(0,i.kt)("p",null,"Base URL: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://stream.nakji.network/")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/ws"),": Websockets endpoint."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/sse"),": ",(0,i.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events"},"Server sent events")," endpoint.")),(0,i.kt)("p",null,"Note: Both endpoints only support unidirectional data transmission at this time."),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"You can use ",(0,i.kt)("a",{parentName:"em",href:"https://github.com/websockets/wscat"},"wscat")," to test the websockets endpoint from your terminal. You can use ",(0,i.kt)("inlineCode",{parentName:"em"},"curl")," to query the SSE endpoint.")),(0,i.kt)("h4",{id:"single-stream"},"single stream"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'wscat -c "wss://stream.nakji.network/ws?streams=sushiswap.<pairid>.trade-1m0s"\ncurl https://stream.nakji.network/sse?streams=sushiswap.<pairid>.trade-1m0s\n')),(0,i.kt)("h4",{id:"wildcard-streams"},"wildcard streams"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'# This will subscribe to real time LP updates.\n# For example, for all uniswap pairs you can subscribe to `uniswapv2.*.liquiditypool`\nwscat -c "wss://stream.nakji.network/ws?streams=sushiswap.*.trade-1m0s"\ncurl https://stream.nakji.network/sse?streams=sushiswap.*.trade-1m0s\n')),(0,i.kt)("h4",{id:"multiple-streams"},"multiple streams"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'wscat -c "wss://stream.nakji.network/ws?streams=x&streams=y&streams=z"\ncurl https://stream.nakji.network/sse?streams=x&streams=y&streams=z\n')),(0,i.kt)("h2",{id:"notes"},"Notes"),(0,i.kt)("p",null,"Stream names are case sensitive. Pair IDs are case sensitive to their checksummed values."))}u.isMDXComponent=!0}}]);
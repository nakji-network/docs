"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[575],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return u}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(a),u=i,h=c["".concat(o,".").concat(u)]||c[u]||m[u]||r;return a?n.createElement(h,s(s({ref:t},d),{},{components:a})):n.createElement(h,s({ref:t},d))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=c;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,s[1]=l;for(var p=2;p<r;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5063:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return d},default:function(){return c}});var n=a(3117),i=a(102),r=(a(7294),a(3905)),s=["components"],l={sidebar_position:4},o="APIs",p={unversionedId:"reference/apis",id:"reference/apis",title:"APIs",description:"Overview",source:"@site/docs/reference/apis.md",sourceDirName:"reference",slug:"/reference/apis",permalink:"/docs/reference/apis",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Auth",permalink:"/docs/reference/auth"}},d=[{value:"Overview",id:"overview",children:[],level:2},{value:"REST API",id:"rest-api",children:[{value:"Endpoints",id:"endpoints",children:[],level:3},{value:"<code>/tv/reference/symbols</code>",id:"tvreferencesymbols",children:[{value:"Request vars",id:"request-vars",children:[],level:4},{value:"Response vars",id:"response-vars",children:[],level:4},{value:"Example",id:"example",children:[],level:4}],level:3},{value:"<code>/tv/reference/symbols/&lt;streamName&gt;</code>",id:"tvreferencesymbolsstreamname",children:[{value:"Request vars",id:"request-vars-1",children:[],level:4},{value:"Response vars",id:"response-vars-1",children:[],level:4},{value:"Example",id:"example-1",children:[],level:4}],level:3},{value:"<code>/data</code>",id:"data",children:[{value:"Request vars",id:"request-vars-2",children:[],level:4},{value:"Response",id:"response",children:[],level:4},{value:"Example",id:"example-2",children:[],level:4}],level:3},{value:"<code>/pair</code>",id:"pair",children:[{value:"Request vars",id:"request-vars-3",children:[{value:"Example",id:"example-3",children:[],level:5}],level:4},{value:"Response vars",id:"response-vars-2",children:[{value:"Example",id:"example-4",children:[],level:5}],level:4}],level:3},{value:"<code>/lpe/ohlcvvvv</code>",id:"lpeohlcvvvv",children:[{value:"Request vars",id:"request-vars-4",children:[{value:"Example",id:"example-5",children:[],level:5}],level:4},{value:"Response",id:"response-1",children:[],level:4}],level:3}],level:2},{value:"Realtime API",id:"realtime-api",children:[{value:"Examples",id:"examples",children:[{value:"single stream",id:"single-stream",children:[],level:4},{value:"wildcard streams",id:"wildcard-streams",children:[],level:4},{value:"multiple streams",id:"multiple-streams",children:[],level:4}],level:3}],level:2},{value:"Notes",id:"notes",children:[],level:2}],m={toc:d};function c(e){var t=e.components,a=(0,i.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"apis"},"APIs"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Nakji offers two APIs, a ",(0,r.kt)("a",{parentName:"p",href:"#realtime-api"},"REST (historical) API")," as well as a ",(0,r.kt)("a",{parentName:"p",href:"#realtime-api"},"Realtime API"),"."),(0,r.kt)("p",null,"This is a work in progress. If you have any questions and concerns, please feel free to reach out to us via TG, Discord, or email."),(0,r.kt)("h2",{id:"rest-api"},"REST API"),(0,r.kt)("p",null,"The REST API is for getting metadata and historical data. All REST API endpoints require ",(0,r.kt)("a",{parentName:"p",href:"auth"},"authentication")," during the private beta."),(0,r.kt)("p",null,"The endpoints starting with ",(0,r.kt)("inlineCode",{parentName:"p"},"/tv")," are designed to be compatible with the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tradingview/charting_library/"},"Tradingview charting library"),". To get access to the Tradingview Charting Library, please refer to the tradingview.com website."),(0,r.kt)("p",null,"Base URL: ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.nakji.network/v1")),(0,r.kt)("h3",{id:"endpoints"},"Endpoints"),(0,r.kt)("h3",{id:"tvreferencesymbols"},(0,r.kt)("inlineCode",{parentName:"h3"},"/tv/reference/symbols")),(0,r.kt)("p",null,"List all available streams. This endpoint corresponds with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tradingview/charting_library/wiki/JS-Api#searchsymbolsuserinput-exchange-symboltype-onresultreadycallback"},(0,r.kt)("inlineCode",{parentName:"a"},"searchsymbol()"))," in the Tradingview Charting Library."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This response may take some time to finish loading due to the large amount of streams."))),(0,r.kt)("h4",{id:"request-vars"},"Request vars"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"search"),": search for contract address, token name, etc."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"namespace"),": retrieve the most recently active pairs in a protocol")),(0,r.kt)("h4",{id:"response-vars"},"Response vars"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ticker"),": unique identifier for the stream. ",(0,r.kt)("strong",{parentName:"li"},"This is the only variable you need if not using the Tradingview charting library.")," We refer to this as ",(0,r.kt)("inlineCode",{parentName:"li"},"streamName"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"symbol"),": Human readable name of this data stream"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"full_name"),": Human readable name of this data stream, including its namespace. Format: ",(0,r.kt)("inlineCode",{parentName:"li"},"Dapp"),":",(0,r.kt)("inlineCode",{parentName:"li"},"symbol")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"description"),": Description for Tradingview API. If applicable, also includes the contract address to disambiguate overlapping symbol names"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exchange"),": the name of the DApp or exchange the stream is coming from"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type"),": type of the stream. This could be either ",(0,r.kt)("inlineCode",{parentName:"li"},"indicator")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"aggregate")," (Nakji aggregates individual trades into candlesticks)")),(0,r.kt)("h4",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'    # list all\n    curl -i -X GET \\\n      -H \'Origin: https://yourdomain\' \\\n      -H \'Authorization:Bearer <apikey>\' \\\n      "https://api.nakji.network/v1/tv/reference/symbols"\n\n    # Response format is `ldjson`, newline delimited json\n    {"symbol":"eth","full_name":"eth:eth","description":"eth.eth.averagedifficulty.1m","exchange":"eth","ticker":"eth.eth.averagedifficulty.1m","type":"indicator"}\n    {"symbol":"eth","full_name":"eth:eth","description":"eth.eth.averagegasused.1m","exchange":"eth","ticker":"eth.eth.averagegasused.1m","type":"indicator"}\n    {"symbol":"eth","full_name":"eth:eth","description":"eth.eth.averagegasprice.1m","exchange":"eth","ticker":"eth.eth.averagegasprice.1m","type":"indicator"}\n    {"symbol":"SLC-USDT","full_name":"uniswapv2:SLC-USDT","description":"uniswapv2.SLC-USDT.liquiditypool-1m0s (0x00004EE988665Cdda9A1080d5792cecD16Dc1220)","exchange":"uniswapv2","ticker":"uniswapv2.0x00004EE988665Cdda9A1080d5792cecD16Dc1220.liquiditypool-1m0s","type":"aggregate"}\n    {"symbol":"SLC-USDT","full_name":"uniswapv2:SLC-USDT","description":"uniswapv2.SLC-USDT.trade-1m0s (0x00004EE988665Cdda9A1080d5792cecD16Dc1220)","exchange":"uniswapv2","ticker":"uniswapv2.0x00004EE988665Cdda9A1080d5792cecD16Dc1220.trade-1m0s","type":"aggregate"}\n    {"symbol":"OWL-WETH","full_name":"uniswapv2:OWL-WETH","description":"uniswapv2.OWL-WETH.liquiditypool-1m0s (0x0005eE2Ef3F313aE168451ef8174b4fCC508819F)","exchange":"uniswapv2","ticker":"uniswapv2.0x0005eE2Ef3F313aE168451ef8174b4fCC508819F.liquiditypool-1m0s","type":"aggregate"}\n    {"symbol":"OWL-WETH","full_name":"uniswapv2:OWL-WETH","description":"uniswapv2.OWL-WETH.trade-1m0s (0x0005eE2Ef3F313aE168451ef8174b4fCC508819F)","exchange":"uniswapv2","ticker":"uniswapv2.0x0005eE2Ef3F313aE168451ef8174b4fCC508819F.trade-1m0s","type":"aggregate"}\n\n\n    # search\n    curl -i -X GET \\\n      -H \'Origin: https://yourdomain\' \\\n      -H \'Authorization:Bearer <apikey>\' \\\n    https://api.nakji.network/v1/tv/reference/symbols\\?search\\=0x58f876857a02d6762e0101bb5c46a8c1ed44dc16\n\n    {"symbol":"Cake-LP-BUSD","full_name":"pancakeswapv2:Cake-LP-BUSD","description":"pancakeswapv2.Cake-LP-BUSD.trade-1m0s (0x1016CFdA658D6Df132e15D2DFdd90F195c22886f)","exchange":"pancakeswapv2","ticker":"pancakeswapv2.0x1016CFdA658D6Df132e15D2DFdd90F195c22886f.trade-1m0s","type":"aggregate"}\n    {"symbol":"Cake-LP-BUSD","full_name":"pancakeswapv2:Cake-LP-BUSD","description":"pancakeswapv2.Cake-LP-BUSD.liquiditypool-1m0s (0x1016CFdA658D6Df132e15D2DFdd90F195c22886f)","exchange":"pancakeswapv2","ticker":"pancakeswapv2.0x1016CFdA658D6Df132e15D2DFdd90F195c22886f.liquiditypool-1m0s","type":"aggregate"}\n    {"symbol":"WBNB-BUSD","full_name":"pancakeswapv2:WBNB-BUSD","description":"pancakeswapv2.WBNB-BUSD.liquiditypool-1m0s (0x58F876857a02D6762E0101bb5C46A8c1ED44Dc16)","exchange":"pancakeswapv2","ticker":"pancakeswapv2.0x58F876857a02D6762E0101bb5C46A8c1ED44Dc16.liquiditypool-1m0s","type":"aggregate"}\n    {"symbol":"WBNB-BUSD","full_name":"pancakeswapv2:WBNB-BUSD","description":"pancakeswapv2.WBNB-BUSD.trade-1m0s (0x58F876857a02D6762E0101bb5C46A8c1ED44Dc16)","exchange":"pancakeswapv2","ticker":"pancakeswapv2.0x58F876857a02D6762E0101bb5C46A8c1ED44Dc16.trade-1m0s","type":"aggregate"}\n')),(0,r.kt)("h3",{id:"tvreferencesymbolsstreamname"},(0,r.kt)("inlineCode",{parentName:"h3"},"/tv/reference/symbols/<streamName>")),(0,r.kt)("p",null,"Get full details about a stream. This endpoint corresponds with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tradingview/charting_library/wiki/JS-Api#resolvesymbolsymbolname-onsymbolresolvedcallback-onresolveerrorcallback-extension"},(0,r.kt)("inlineCode",{parentName:"a"},"resolveSymbol()"))," in the Tradingview Charting Library and is usually not necessary for other applications."),(0,r.kt)("h4",{id:"request-vars-1"},"Request vars"),(0,r.kt)("p",null,"0 GET variables. ",(0,r.kt)("inlineCode",{parentName:"p"},"streamName")," is the name of the stream, and is returned as ",(0,r.kt)("inlineCode",{parentName:"p"},"ticker")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"/tv/reference/symbols")," endpoint (eg. ",(0,r.kt)("inlineCode",{parentName:"p"},"pancakeswapv2.0x1016CFdA658D6Df132e15D2DFdd90F195c22886f.trade-1m0s"),")."),(0,r.kt)("h4",{id:"response-vars-1"},"Response vars"),(0,r.kt)("p",null,"All response vars correspond with Tradingview charting library's ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tradingview/charting_library/wiki/Symbology#symbolinfo-structure"},"symbology")," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tradingview/charting_library/wiki/Symbology#symbolinfo-structure"},(0,r.kt)("inlineCode",{parentName:"a"},"SymbolInfo struct")),"."),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'curl -i -X GET \\\n  -H \'Origin: https://yourdomain\' \\\n  -H \'Authorization:Bearer <apikey>\' \n  https://api.nakji.network/v1/tv/reference/symbols/uniswapv2.0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f.trade-1m0s\n\n{\n "name":"AAVE-WETH",\n "timezone":"Etc/UTC",\n "pricescale":100000000,\n "has_intraday":true,\n "has_daily":true,\n "has_weekly_and_monthly":true,\n "has_no_volume":false,\n "ticker":"uniswapv2.0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f.trade-1m0s",\n "description":"AAVE-WETH (0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f)",\n "type":"aggregate",\n "data_status":"streaming",\n "supported_resolutions":["1S","1","3","5","15","30","45","60","120","180","240","1D","1W","1M","12M"],\n "intraday_multipliers":["1","5","15","30","60","D","W"],\n "session":"24x7",\n "exchange":"uniswapv2",\n "has_seconds":false,\n "seconds_multipliers":null,\n "has_empty_bars":true\n }\n')),(0,r.kt)("h3",{id:"data"},(0,r.kt)("inlineCode",{parentName:"h3"},"/data")),(0,r.kt)("p",null,"Get historical data. The data format this endpoint returns is the same as it is stored."),(0,r.kt)("h4",{id:"request-vars-2"},"Request vars"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"symbol"),": search filter (e.g. uniswapv2.0xBB8a43724dE8BC071d7278bAcCB19363545fE758.liquiditypoolevent)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," (optional): time window lower bound. In ",(0,r.kt)("strong",{parentName:"li"},"unix time ms"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to")," (optional): time window upper bound, defaults to now. In ",(0,r.kt)("strong",{parentName:"li"},"unix time ms"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"limit")," (optional): database query limit (max. 100). In ",(0,r.kt)("strong",{parentName:"li"},"int"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"resolution")," (optional): time box, defaults to 1 minute. In ",(0,r.kt)("strong",{parentName:"li"},"enum"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//available resolution enums\n{   \n    "1S":  "1 second",\n    "5S":  "5 seconds",\n    "10S": "10 seconds",\n    "15S": "15 seconds",\n    "30S": "30 seconds",\n    "1":   "1 minute",\n    "3":   "3 minute",\n    "5":   "5 minutes",\n    "15":  "15 minutes",\n    "30":  "30 minutes",\n    "60":  "1 hour",\n    "1H":  "1 hour",\n    "2H":  "2 hour",\n    "4H":  "4 hour",\n    "D":   "1 day",\n    "W":   "1 week",\n}\n')),(0,r.kt)("h4",{id:"response"},"Response"),(0,r.kt)("p",null,"The response depends on the stream you are querying, and is determined by the connector from in this data stream was ingested."),(0,r.kt)("h4",{id:"example-2"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'curl -i -X GET \\\n    -H \'Origin: https://yourdomain\' \\\n    -H \'Authorization:Bearer <apikey>\' \\\n    "https://api.nakji.network/v1/data?symbol=daofi.0x2C98813dea4AA80F0F160748450f0ABFd51FB558.liquiditypoolevent&from=1616805306000&to=1616915273000&resolution=1"\n\n{\n    "ns":"daofi",\n    "s":"0x2C98813dea4AA80F0F160748450f0ABFd51FB558",\n    "ts":"2021-03-27T05:05:48Z",\n    "block":12119181,\n    "idx":241,\n    "tx":"9uPiY9Fg2aVNNmUnwILz7gT2Z9D3svLp3j+1/tVep40=",    //  base64 encoded\n    "sender":"eiUNVjC0z1OXOd8sXay0xlnySI0=", //  base64 encoded\n    "to":"FHgbdfaYtmrOvJq8L/iTQ5ke3tE=",    //  base64 encoded\n    "amount0In":100000000000000000,\n    "amount0Out":0,\n    "amount1In":0,\n    "amount1Out":367394634193879528\n}\n')),(0,r.kt)("h3",{id:"pair"},(0,r.kt)("inlineCode",{parentName:"h3"},"/pair")),(0,r.kt)("p",null,"Retrieves metadata of a pair."),(0,r.kt)("h4",{id:"request-vars-3"},"Request vars"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"network"),": network name (e.g. ethereum)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),": hex address within the network (e.g. 0xBB8a43724dE8BC071d7278bAcCB19363545fE758)")),(0,r.kt)("h5",{id:"example-3"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl -i -X GET \\\n    -H 'Origin: https://yourdomain' \\\n    -H 'Authorization:Bearer <apikey>' \\\n    \"https://api.nakji.network/v1/pair?network=ethereum&address=0x67483a1229b1304d9df461fb8e7671b1bd66e3fa\"\n")),(0,r.kt)("h4",{id:"response-vars-2"},"Response vars"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"network"),": network name (e.g. ethereum)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),": hex address within the network (e.g. 0xBB8a43724dE8BC071d7278bAcCB19363545fE758)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"app"),": dApp name of where the data is from"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"token0"),": information on the first token of the pair. Includes address, decimals, name, and symbol"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"token1"),": information on the second token of the pair. Includes address, decimals, name, and symbol")),(0,r.kt)("h5",{id:"example-4"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n    "network": "ethereum",\n    "address": "0x67483a1229b1304d9df461fb8e7671b1bd66e3fa",\n    "app": "uniswapv2",\n    "token0": {\n        "address": "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",\n        "decimals": 6,\n        "name": "USD Coin",\n        "symbol": "USDC"\n    },\n    "token1": {\n        "address": "0xD2dDa223b2617cB616c1580db421e4cFAe6a8a85",\n        "decimals": 18,\n        "name": "Bondly Token",\n        "symbol": "BONDLY"\n    }\n}\n')),(0,r.kt)("h3",{id:"lpeohlcvvvv"},(0,r.kt)("inlineCode",{parentName:"h3"},"/lpe/ohlcvvvv")),(0,r.kt)("p",null,"(/ Liquidity Pool Event / Open High Low Close Volume Volume Volume Volume)"),(0,r.kt)("p",null,"Get candlestick data for any AMM dex that is supported. ",(0,r.kt)("strong",{parentName:"p"},"Only streams that end in ",(0,r.kt)("inlineCode",{parentName:"strong"},".liquiditypoolevent-1m0s")," or ",(0,r.kt)("inlineCode",{parentName:"strong"},".trade-1m0s")," can use this endpoint.")," "),(0,r.kt)("p",null,"Timeframes(",(0,r.kt)("inlineCode",{parentName:"p"},"resolution"),"s) larger than 1m are aggregated using the ",(0,r.kt)("inlineCode",{parentName:"p"},"*-1m0s")," data."),(0,r.kt)("h4",{id:"request-vars-4"},"Request vars"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"symbol"),": hex address within the network (e.g. 0xBB8a43724dE8BC071d7278bAcCB19363545fE758)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from"),": hex address within the network (e.g. 0xBB8a43724dE8BC071d7278bAcCB19363545fE758)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to"),": hex address within the network (e.g. 0xBB8a43724dE8BC071d7278bAcCB19363545fE758)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"resolution"),": hex address within the network (e.g. 0xBB8a43724dE8BC071d7278bAcCB19363545fE758)")),(0,r.kt)("h5",{id:"example-5"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl -i -X GET \\\n  -H 'Origin: https://yourdomain' \\\n  -H 'Authorization:Bearer <apikey>' \\\n\"https://api.nakji.network/v1/lpe/ohlcvvvv?symbol=uniswapv2.0xCc3d1EceF1F9fD25599dbeA2755019DC09db3c54.liquiditypoolevent-1m0s&from=1615885305000&to=1616091703000&resolution=1\"\n")),(0,r.kt)("h4",{id:"response-1"},"Response"),(0,r.kt)("p",null,"Newlined delimited json, where each line has the following struct/example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  // Timestamp\n    "T":"2021-03-16T10:35:00Z",\n  \n  // OHLC (candlestick)\n    "Open":0.0030447661831800705,\n    "Close":0.0030447661831800705,\n    "High":0.0030447661831800705,\n    "Low":0.0030447661831800705,\n\n  // Volumes, where Amount0/Amount1 corresponds to Token0/Token1 in a trading pair.\n  // for SRM/ETH, SRM is 0, ETH is 1\n  // This gives you the flexibility to choose units as well as show how much volume was bought and sold on each side.\n    "Amount0in":0, // SRM sold (in SRM units)\n    "Amount0out":133.799515, // SRM bought (in SRM units)\n    "Amount1in":0.4073882385978945, // ETH sold (in ETH units)\n    "Amount1out":0 // ETH bought (in ETH units)\n}\n')),(0,r.kt)("h2",{id:"realtime-api"},"Realtime API"),(0,r.kt)("p",null,"Base URL: ",(0,r.kt)("inlineCode",{parentName:"p"},"https://stream.nakji.network/")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/ws"),": Websockets endpoint."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/sse"),": ",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events"},"Server sent events")," endpoint.")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Both endpoints only support unidirectional data transmission at this time."))),(0,r.kt)("p",null,"Response data structures depend on the data that is indexed for that specific stream."),(0,r.kt)("h3",{id:"examples"},"Examples"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"You can use ",(0,r.kt)("a",{parentName:"em",href:"https://github.com/websockets/wscat"},"wscat")," to test the websockets endpoint from your terminal. You can use ",(0,r.kt)("inlineCode",{parentName:"em"},"curl")," to query the SSE endpoint.")),(0,r.kt)("h4",{id:"single-stream"},"single stream"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'wscat -c "wss://stream.nakji.network/ws?streams=sushiswap.<pairid>.trade-1m0s"\ncurl https://stream.nakji.network/sse?streams=sushiswap.<pairid>.trade-1m0s\n')),(0,r.kt)("h4",{id:"wildcard-streams"},"wildcard streams"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'# This will subscribe to real time LP updates.\n# For example, for all uniswap pairs you can subscribe to `uniswapv2.*.liquiditypool`\nwscat -c "wss://stream.nakji.network/ws?streams=sushiswap.*.trade-1m0s"\ncurl https://stream.nakji.network/sse?streams=sushiswap.*.trade-1m0s\n')),(0,r.kt)("h4",{id:"multiple-streams"},"multiple streams"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'wscat -c "wss://stream.nakji.network/ws?streams=x&streams=y&streams=z"\ncurl https://stream.nakji.network/sse?streams=x&streams=y&streams=z\n')),(0,r.kt)("h2",{id:"notes"},"Notes"),(0,r.kt)("p",null,"Stream names are case sensitive. Pair IDs are case sensitive to their checksummed values."))}c.isMDXComponent=!0}}]);